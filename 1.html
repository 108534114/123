<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>學生點名和評分整合系統</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <style>
            .table-container {
                position: absolute;
                top: 0;
                left: 0;
                min-height: auto;
                overflow-y: auto;
            }
        </style>
        
</head>

<body>
    
    <script src="your-script.js"></script>

    <div class="col-6" style="float: left;">
        <div class="table-container">
            <table class="table table-bordered" id="table"></table>
        </div>
    </div>
    

    <div class="container">
        <div class="row">
            <div class="col-6">
                <div class="student-list">
                    <h3>學生名單：</h3>
                    <!-- 學生名單內容 -->
                </div>
            </div>
            <div class="col-6">
                <div class="table-generator">

                    <label for="rows">行數</label>
                    <input type="number" id="rows" min="1" max="10">
                    <label for="columns">列數：</label>
                    <input type="number" id="columns" min="1" max="10">
                    <button class="btn btn-primary" onclick="generateTable()">生成表格</button>
                    <button class="btn btn-danger" onclick="clearTable()">清空表格</button>
                    <button class="btn btn-primary" id="btn_all">全部選取</button>
                    <button class="btn btn-success" id="save-button">儲存</button>

                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        // 前面的代码...

        // 将表格数据保存到数据库的函数
        function saveTableToDatabase() {
            const xhr = new XMLHttpRequest();
            xhr.open('POST', '座位資料表.php', true);
            xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        console.log(xhr.responseText);
                    } else {
                        console.error('AJAX request failed:', xhr.status, xhr.statusText);
                    }
                }
            };
            xhr.send(JSON.stringify({ tableData: tableData }));
        }

        // 在 DOMContentLoaded 事件中绑定按钮点击事件
        document.addEventListener('DOMContentLoaded', function () {
            // ... 其他代码 ...

            const selectAllButton = document.getElementById('btn_all');
            selectAllButton.addEventListener('click', selectAllStudents);

            const saveButton = document.getElementById('save-button');
            saveButton.addEventListener('click', saveTableToDatabase);
        });
    </script>
</body>

</html>
